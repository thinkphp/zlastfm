if(typeof cui=="undefined"||!cui){var cui={}}cui.version="@VERSION@";cui.DATA_CUI="data-cui";cui.lang=cui.lang||{};(function(){var a=cui.lang,c=Object.prototype,g={"&":"&amp","<":"&lt",">":"&gt",'"':"&quot","'":"&#x27","/":"&#x2F","`":"&#x60"},h="[object Array]",b="[object Function]",f="[object Object]",e=[],d={isArray:function(i){return c.toString.apply(i)==h},isBoolean:function(i){return typeof i==="boolean"},isFunction:function(i){return(typeof i==="function")||c.toString.apply(i)===b},isNull:function(i){return i===null},isNumber:function(i){return typeof i==="number"&&isFinite(i)},isObject:function(i){return(i&&(typeof i==="object")||a.isFunction(i))||false},isString:function(i){return typeof i==="string"},isUndefined:function(i){return typeof i==="undefined"},isValue:function(i){return a.isObject(i)||a.isString(i)||a.isNumber(i)||a.isBoolean(i)},escapeHTML:function(i){return i.replace(/[&<>"'\/`]/g,function(j){return g[j]})},trim:function(i){try{return String.prototype.trim?i.trim():i.replace(/(^\s*|\s*$)/g,"")}catch(j){return i}},camelize:function(i){try{return i.replace(/-(.)/g,function(k,l){return l.toUpperCase()})}catch(j){return i}},augmentObject:function(l,j){if(!l||!j){throw new Error("Failed, verify argumetns")}var k,i=arguments[2];for(k in j){if(i||!(k in j)){l[k]=j[k]}}return l},mixins:function(){var i,k,j={};for(i=0;i<arguments.length;i++){for(k in arguments[i]){j[k]=arguments[i][k]}}return j}};d.augmentObject(a,d,true);cui.lang=a;cui.extend=d.augmentObject;cui.mixins=d.mixins})();if(!cui.dom){cui.dom={selectAll:function(a){return Array.prototype.slice.call((node||document).querySelectorAll(a))},select:function(a,b){return(b||document).querySelector(a)},each:function(b,d){var a=b.length,c;for(c=0;c<a;c++){d.call(this,b[c],c,b)}return b},some:function(a,e,d){for(var c=0,b=a.length;c<b;c++){if(e.call(d,a[c],c,a)){return true}}return false},getStyle:document.defaultView&&document.defaultView.getComputedStyle?function(b,d){var c=null;if(d=="float"){d="cssFloat"}var a=document.defaultView.getComputedStyle(b,"");c=a[cui.lang.camelize(d)];return b.style[d]||c}:(ie&&html.currentStyle)?function(a,c){c=this.camelize(c);c=c=="float"?"styleFloat":c;if(c=="opacity"){var f=100;try{f=a.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(e){try{f=a.filters("alpha").opacity}catch(d){}}}var b=a.currentStyle?a.currentStyle[c]:null;return a.style[c]||b}:function(a,b){return a.style[this.camelize[b]]},css:function(b,a){b.style.cssText=a},attr:function(d,b,c){d.setAttribute(b,c)},removeAttr:function(a){elem.removeAttribute(a)},html:function(a,c){var b=/select|fieldset|table|tbody|tfoot|td|tr|colgroup/i,d=c?document.documentElement===null?"innerText":"innerHTML":"innerHTML";a[d]=c},is:function(a){return a&&a.nodeName&&a.nodeType==1},addClass:function(a,b){if("classList" in document.createElement("p")){a.classList.add(b)}else{a.className=cui.lang.trim(a.className+" "+b)}return this},hasClass:function(a,b){if("classList" in document.createElement("p")){return a.classList.contains(b)}else{return this.classReg(b).test(a.className)}},removeClass:function(a,b){if("classList" in document.createElement("p")){a.classList.remove(b)}else{a.className=cui.lang.trim(a.className+" "+b)}},classReg:function(a){return new RegExp("(^|\\s+)"+a+"(\\s+$)")},toggleClass:function(a,b){this.hasClass(a,b)?this.removeClass(a,b):this.addClass(a,b)}}}HTMLElement.prototype.html=function(a){cui.dom.html(this,a)};HTMLElement.prototype.css=function(a){cui.dom.css(this,a)};Function.prototype.binding=function(){var b=Array.prototype.slice.call(arguments),a=b.shift(),c=this;return function(){return c.apply(a,b.concat(Array.prototype.slice.call(arguments)))}};if(!cui.yql){cui.yql=function(){var b=null,a="json",d=false;function c(i){var f=document.createElement("script"),h="http://query.yahooapis.com/v1/public/yql?q=",e="&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys",g=encodeURIComponent(b);id="YQL"+(+new Date()),src=h+g+"&format="+a+"&callback=cui."+id+"&diagnostics="+d+e;cui[id]=function(j){if(window.console){console.log(j)}i(j);document.body.removeChild(f)};f.setAttribute("type","text/javascript");f.setAttribute("src",src);document.body.appendChild(f)}return function(f,h,g,e){b=f;a=g||"json";d=e||false;c(h)}}()}var lastfm=function(){var a="thinkphp",b=null,f="http://zlastfm.appspot.com/css/lastfm.css";function g(){var h=cui.dom.select("#lastFM a").toString().split("/");var i=h[h.length-1]||a;b='use "http://thinkphp.ro/apps/lastfm/YQL-open-data-table/recentlastfm.xml" as lastfm;select * from lastfm where username="'+i+'" and api_key="2993c6e15c91a2890c2f11fa95673067"';d();return this}function d(){var i=document.head||document.getElementsByTagName("head")[0],h=document.createElement("link");h.setAttribute("type","text/css");h.setAttribute("rel","stylesheet");h.setAttribute("href",f);if(b){i.appendChild(h)}}function e(){return this}function c(){cui.yql(b,function(h){cui.dom.select("#result").html(h.query.results.result)})}return{init:g,and:e,render:c}}();lastfm.init().and().render();
